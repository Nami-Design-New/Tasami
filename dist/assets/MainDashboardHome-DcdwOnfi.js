import{j as e,R as j,C as p,u as y,P as t,o as O,e as B,a as E,n as S,L as h,p as G}from"./index-XX9UlVUw.js";const x=({icon:s,title:o,value:a,percentage:l,timeframe:n,chartData:i,color:c="#805AD5"})=>{const u={chart:{type:"line",sparkline:{enabled:!0}},stroke:{curve:"smooth",width:2},colors:[c],tooltip:{enabled:!1}},m=[{data:i}];return e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"left",children:e.jsx("div",{className:"icon-circle",style:{backgroundColor:c},children:s})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"details-container",children:[e.jsxs("div",{className:"details",children:[e.jsx("p",{className:"title",children:o}),e.jsx("h2",{className:"value",children:a})]}),e.jsx(j,{options:u,series:m,type:"line",height:50,width:100})]}),e.jsx("div",{className:"change",children:e.jsxs("div",{children:[e.jsxs("span",{className:`percent  ${l>0?"plus":""} `,children:[l>0?e.jsx("i",{className:"fa-solid fa-arrow-up"}):e.jsx("i",{className:"fa-solid fa-arrow-down"}),Math.abs(l),"%"]}),e.jsx("span",{className:"time",children:n})]})})]})]})},R=({options:s,series:o,title:a,width:l=300,height:n=300})=>e.jsx(p,{title:a,children:e.jsx("div",{className:"d-flex align-items-center justify-content-center",children:e.jsx(j,{options:s,series:o,type:"donut",width:l,height:n})})}),W=({series:s,title:o,options:a,subtitle:l,type:n="line",height:i=350})=>e.jsxs(p,{title:o,children:[l&&e.jsxs("p",{className:"subtitle",children:[" ",l," "]}),e.jsx(j,{options:a,series:s,height:i,type:n})]}),k=({tasksData:s})=>{const{t:o}=y(),l=Object.values({successful:987,pending:1073,rejected:1674}).reduce((i,c)=>i+c,0),n=i=>i/l*100;return e.jsx(p,{title:o("dashboard.task_status"),children:e.jsxs("div",{className:"task-card d-block",children:[e.jsxs("div",{className:"total",children:[e.jsx("h4",{className:"number",children:s==null?void 0:s.total_tasks}),e.jsxs("span",{className:"change positive",children:[s==null?void 0:s.growth_percentage," â–²"]}),e.jsx("span",{className:"note",children:o("dashboard.compared_last_week")})]}),e.jsxs(t,{className:"rounded-bar mb-3",children:[e.jsx(t,{className:"complete",now:n(s==null?void 0:s.completed_tasks)},1),e.jsx(t,{className:"pending",now:n(s==null?void 0:s.progress_tasks)},2),e.jsx(t,{className:"unassigned",now:n(s==null?void 0:s.not_assigned_tasks)},3)]}),e.jsxs("ul",{className:"legend",children:[e.jsx("li",{children:e.jsxs("div",{className:"legend--content",children:[e.jsx("span",{children:o("dashboard.completed_tasks")}),e.jsxs("span",{className:"count",children:[s==null?void 0:s.completed_tasks.toLocaleString()," ",o("dashboard.task_label")]})]})}),e.jsx("li",{children:e.jsxs("div",{className:"legend--content",children:[e.jsx("span",{children:o("dashboard.in_progress_tasks")}),e.jsxs("span",{className:"count",children:[s==null?void 0:s.progress_tasks.toLocaleString()," ",o("dashboard.task_label")]})]})}),e.jsx("li",{children:e.jsxs("div",{className:"legend--content",children:[e.jsx("span",{children:o("dashboard.unassigned_tasks")}),e.jsxs("span",{className:"count",children:[s==null?void 0:s.not_assigned_tasks.toLocaleString()," ",o("dashboard.task_label")]})]})})]})]})})};function F(){const{data:s,isLoading:o}=O({queryKey:["dashboard-home"],queryFn:async()=>{const a=await B("dh-home");if(a.data.code!==200)throw new Error(a.data.error);return a.data.data}});return{homeStatistics:s,isLoading:o}}const N=["#F5B849","#26BF94","#4A90E2","#9B59B6","#E74C3C"],w=[e.jsx("i",{className:"fa-solid fa-users"}),e.jsx("i",{className:"fa-solid fa-user-group"}),e.jsx("i",{className:"fa-solid fa-user-check"}),e.jsx("i",{className:"fa-solid fa-user-plus"}),e.jsx("i",{className:"fa-solid fa-user-tie"})];function $(){var b,_,g,f,v;const{t:s}=y(),{user:o}=E(r=>r.adminAuth),{homeStatistics:a,isLoading:l}=F();if(l)return e.jsx(S,{});const n=((b=a==null?void 0:a.subscriptions_revenue)==null?void 0:b.map(r=>r.total_subscriptions))||[],i=[{name:s("dashboard.revenue_12_months"),type:"line",data:a.subscriptions_revenue.map(r=>r.yearly_revenue)},{name:s("dashboard.revenue_6_months"),type:"line",data:a.subscriptions_revenue.map(r=>r.half_yearly_revenue)},{name:s("dashboard.assistant_requests"),type:"area",data:a.subscriptions_revenue.map(r=>r.total_subscriptions)}],c=a.subscriptions_revenue.map(r=>r.month),u={chart:{height:350,toolbar:{show:!0}},stroke:{width:[0,2,3],curve:"smooth",dashArray:[0,5,0]},fill:{type:["solid","solid","solid"],opacity:[.2,1,1]},markers:{size:0},colors:["#e2e8f0","#0ea5e9","#8b5cf6"],dataLabels:{enabled:!1},xaxis:{categories:c},legend:{position:"top",horizontalAlign:"left",markers:{radius:12}},tooltip:{shared:!0,intersect:!1}},m=[{name:s("dashboard.users"),data:a.users_growth.monthly_data.map(r=>r.user_count)}],C=a.users_growth.monthly_data.map(r=>r.month),q={chart:{type:"bar",height:350,toolbar:{show:!0}},plotOptions:{bar:{borderRadius:4,columnWidth:"10%",endingShape:"rounded"}},dataLabels:{enabled:!1},xaxis:{categories:C},colors:["#6366f1"],tooltip:{y:{formatter:r=>`${r} ${s("dashboard.users")}`}}},L=a.employees_counts.roles.map(r=>r==null?void 0:r.count),z={labels:[s("dashboard.executives"),s("dashboard.leaders"),s("dashboard.managers"),s("dashboard.supervisors"),s("dashboard.workers")],chart:{type:"donut"},colors:["#214b92","#8c137e","#007d7e","#f0ad4e","#adb5bd"],legend:{position:"bottom",fontSize:"14px"},dataLabels:{enabled:!0,position:"outside",style:{fontSize:"14px",fontWeight:"400",colors:["#fff"]}},plotOptions:{pie:{donut:{size:"80%",labels:{show:!0,name:{show:!0,fontSize:"16px",offsetY:-10},value:{show:!0,fontSize:"20px",fontWeight:600},total:{show:!0,label:s("dashboard.total"),fontSize:"16px",fontWeight:500,formatter:r=>r.globals.seriesTotals.reduce((d,A)=>d+A,0)}}}}},responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]};return e.jsxs("section",{className:"dashboard--home",children:[e.jsx("div",{className:"dashboard--home__header",children:e.jsxs("div",{className:"welcome",children:[e.jsxs("h3",{children:[o==null?void 0:o.first_name," ",s("dashboard.welcome_back")]}),e.jsx("p",{children:s("dashboard.welcome_message")})]})}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12 col-lg-6 col-xxl p-2",children:e.jsx(x,{icon:e.jsx("i",{className:"fa-solid fa-handshake"}),title:s("dashboard.assistant_requests"),value:(_=a==null?void 0:a.help_requests)==null?void 0:_.total_help_requests,percentage:(g=a==null?void 0:a.help_requests)==null?void 0:g.growth_percentage,timeframe:s("dashboard.this_month"),chartData:n,color:"#805AD5"})}),e.jsx("div",{className:"col-12 col-lg-6 col-xxl p-2",children:e.jsx(x,{icon:e.jsx("i",{className:"fa-solid fa-notebook"}),title:s("dashboard.help_offers"),value:(f=a==null?void 0:a.help_services)==null?void 0:f.total_help_services,percentage:(v=a==null?void 0:a.help_services)==null?void 0:v.growth_percentage,timeframe:s("dashboard.this_month"),chartData:n,color:"#23B7E5"})}),a==null?void 0:a.packages_counts.map((r,d)=>e.jsx("div",{className:"col-12 col-lg-6 col-xxl p-2",children:e.jsx(x,{icon:w[d%w.length],title:r.package,value:r.total_users,percentage:r.growth_percentage,timeframe:s("dashboard.this_month"),chartData:n,color:N[d%N.length]})},d)),e.jsx("div",{className:"col-12 p-2",children:e.jsx(p,{title:s("dashboard.urgent_actions"),children:e.jsxs("div",{className:"quick__actions--list",children:[e.jsxs(h,{to:"/dashboard/create-employee",className:"quick--action__button",children:[e.jsx("img",{src:"icons/add-user.svg",alt:""}),e.jsx("span",{children:s("dashboard.create_employee")})]}),e.jsxs(h,{to:"/dashboard/list-management/working-groups",className:"quick--action__button",children:[e.jsx("img",{src:"icons/permisson_icon.svg",alt:""}),e.jsx("span",{children:s("dashboard.create_group")})]}),e.jsxs(h,{className:"quick--action__button",children:[e.jsx("img",{src:"icons/delete-user.svg",alt:""}),e.jsx("span",{children:s("dashboard.suspend_employee")})]}),e.jsxs(h,{to:"/dashboard/list-management/fields-and-specializations",className:"quick--action__button",children:[e.jsx("img",{src:"icons/add-fileds.svg",alt:""}),e.jsx("span",{children:s("dashboard.add_field")})]})]})})})]}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-12 col-xl-4 p-2",children:[e.jsx("div",{className:"col pb-2",children:e.jsx(k,{tasksData:a==null?void 0:a.tasks_counts})}),e.jsx("div",{className:"col pt-2",children:e.jsx(R,{series:L,options:z,title:s("dashboard.employees"),height:300})})]}),e.jsx("div",{className:"col-12 col-xl-8 p-2",children:e.jsx(W,{series:i,title:s("dashboard.revenue_analytics"),options:u,type:"line",height:550})})]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12 p-2",children:e.jsx(G,{series:m,options:q,title:s("dashboard.user_growth")})})})]})}export{$ as default};
