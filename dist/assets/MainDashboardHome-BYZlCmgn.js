import{j as e,R as g,C as h,u as y,P as d,o as A,e as M,a as B,n as H,L as x,p as O}from"./index-CafU83UJ.js";const u=({icon:s,title:r,value:a,percentage:c,timeframe:l,chartData:n,color:i="#805AD5"})=>{const p={chart:{type:"line",sparkline:{enabled:!0}},stroke:{curve:"smooth",width:2},colors:[i],tooltip:{enabled:!1}},m=[{data:n}];return e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"left",children:e.jsx("div",{className:"icon-circle",style:{backgroundColor:i},children:s})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"details-container",children:[e.jsxs("div",{className:"details",children:[e.jsx("p",{className:"title",children:r}),e.jsx("h2",{className:"value",children:a})]}),e.jsx(g,{options:p,series:m,type:"line",height:50,width:100})]}),e.jsx("div",{className:"change",children:e.jsxs("div",{children:[e.jsxs("span",{className:`percent  ${c>0?"plus":""} `,children:[c>0?e.jsx("i",{className:"fa-solid fa-arrow-up"}):e.jsx("i",{className:"fa-solid fa-arrow-down"}),Math.abs(c),"%"]}),e.jsx("span",{className:"time",children:l})]})})]})]})},S=({options:s,series:r,title:a,width:c=300,height:l=300})=>e.jsx(h,{title:a,children:e.jsx("div",{className:"d-flex align-items-center justify-content-center",children:e.jsx(g,{options:s,series:r,type:"donut",width:c,height:l})})}),V=({series:s,title:r,options:a,subtitle:c,type:l="line",height:n=350})=>e.jsxs(h,{title:r,children:[c&&e.jsxs("p",{className:"subtitle",children:[" ",c," "]}),e.jsx(g,{options:a,series:s,height:n,type:l})]}),E=({tasksData:s})=>{const{t:r}=y(),c=Object.values({successful:987,pending:1073,rejected:1674}).reduce((n,i)=>n+i,0),l=n=>n/c*100;return e.jsx(h,{title:r("dashboard.task_status"),children:e.jsxs("div",{className:"task-card d-block",children:[e.jsxs("div",{className:"total",children:[e.jsx("h4",{className:"number",children:s==null?void 0:s.total_tasks}),e.jsxs("span",{className:"change positive",children:[s==null?void 0:s.growth_percentage," â–²"]}),e.jsx("span",{className:"note",children:r("dashboard.compared_last_week")})]}),e.jsxs(d,{className:"rounded-bar mb-3",children:[e.jsx(d,{className:"complete",now:l(s==null?void 0:s.completed_tasks)},1),e.jsx(d,{className:"pending",now:l(s==null?void 0:s.progress_tasks)},2),e.jsx(d,{className:"unassigned",now:l(s==null?void 0:s.not_assigned_tasks)},3)]}),e.jsxs("ul",{className:"legend",children:[e.jsx("li",{children:e.jsxs("div",{className:"legend--content",children:[e.jsx("span",{children:r("dashboard.completed_tasks")}),e.jsxs("span",{className:"count",children:[s==null?void 0:s.completed_tasks.toLocaleString()," ",r("dashboard.task_label")]})]})}),e.jsx("li",{children:e.jsxs("div",{className:"legend--content",children:[e.jsx("span",{children:r("dashboard.in_progress_tasks")}),e.jsxs("span",{className:"count",children:[s==null?void 0:s.progress_tasks.toLocaleString()," ",r("dashboard.task_label")]})]})}),e.jsx("li",{children:e.jsxs("div",{className:"legend--content",children:[e.jsx("span",{children:r("dashboard.unassigned_tasks")}),e.jsxs("span",{className:"count",children:[s==null?void 0:s.not_assigned_tasks.toLocaleString()," ",r("dashboard.task_label")]})]})})]})]})})};function F(){const{data:s,isLoading:r}=A({queryKey:["dashboard-home"],queryFn:async()=>{const a=await M("dh-home");if(a.data.code!==200)throw new Error(a.data.error);return a.data.data}});return{homeStatistics:s,isLoading:r}}const G="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20version='1.1'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='512'%20height='512'%20x='0'%20y='0'%20viewBox='0%200%20512%20512'%20style='enable-background:new%200%200%20512%20512'%20xml:space='preserve'%20class=''%3e%3cg%3e%3cpath%20d='M226%20232c-63.963%200-116-52.037-116-116S162.037%200%20226%200s116%2052.037%20116%20116-52.037%20116-116%20116zM271%20317c0-25.68%207.21-49.707%2019.708-70.167C271.193%20256.526%20249.228%20262%20226%20262c-30.128%200-58.152-9.174-81.429-24.874-28.782%2011.157-55.186%2028.291-77.669%2050.774C24.404%20330.397%201%20386.899%201%20446.999V497c0%208.284%206.716%2015%2015%2015h420c8.284%200%2015-6.716%2015-15v-50.001c0-.901-.025-1.805-.036-2.708C436.892%20449.277%20421.759%20452%20406%20452c-74.439%200-135-60.561-135-135z'%20fill='%235fcafa'%20opacity='1'%20data-original='%23000000'%20class=''%3e%3c/path%3e%3cpath%20d='M406%20212c-57.897%200-105%2047.103-105%20105s47.103%20105%20105%20105%20105-47.103%20105-105-47.103-105-105-105zm30%20120h-15v15c0%208.284-6.716%2015-15%2015s-15-6.716-15-15v-15h-15c-8.284%200-15-6.716-15-15s6.716-15%2015-15h15v-15c0-8.284%206.716-15%2015-15s15%206.716%2015%2015v15h15c8.284%200%2015%206.716%2015%2015s-6.716%2015-15%2015z'%20fill='%235fcafa'%20opacity='1'%20data-original='%23000000'%20class=''%3e%3c/path%3e%3c/g%3e%3c/svg%3e",R="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20version='1.1'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='512'%20height='512'%20x='0'%20y='0'%20viewBox='0%200%2064%2064'%20style='enable-background:new%200%200%20512%20512'%20xml:space='preserve'%3e%3cg%3e%3cpath%20d='M32.72%202.29c-.03-.02-.06-.05-.09-.07a.55.55%200%200%200-.14-.09.494.494%200%200%200-.18-.08.992.992%200%200%200-.3-.05c-.08%200-.16.01-.23.03-.07.01-.14.04-.21.08-.05.02-.1.05-.14.08-.04.03-.09.06-.13.1-.9.66-9.43%206.49-25.89%204.51a.996.996%200%200%200-1.12.99v20.57c0%20.6.02%201.2.05%201.79.47%209.29%204.58%2017.81%2011.45%2023.59%204.4%203.68%209.76%206.44%2015.94%208.22.09.03.18.04.28.04.09%200%20.18-.01.27-.04%206.18-1.78%2011.53-4.54%2015.93-8.22%206.87-5.78%2010.98-14.3%2011.45-23.59.03-.59.05-1.19.05-1.79V7.79c0-.28-.12-.56-.34-.75-.21-.18-.49-.27-.78-.24-16.42%201.99-24.93-3.82-25.87-4.51zm24.99%206.62v19.45c0%20.26%200%20.53-.01.79H33.01V4.85c3.23%201.89%2011.33%205.44%2024.7%204.06zM6.41%2031.15h24.6v28.5c-5.38-1.69-10.06-4.2-13.93-7.44-6.17-5.19-9.98-12.75-10.67-21.06z'%20fill='%235fcafa'%20opacity='1'%20data-original='%23000000'%3e%3c/path%3e%3c/g%3e%3c/svg%3e",W="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20version='1.1'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='512'%20height='512'%20x='0'%20y='0'%20viewBox='0%200%2024%2024'%20style='enable-background:new%200%200%20512%20512'%20xml:space='preserve'%3e%3cg%3e%3cpath%20d='M14.25%200H2.75C1.23%200%200%201.23%200%202.75v15.5C0%2019.77%201.23%2021%202.75%2021h6.59a8.731%208.731%200%200%201-.84-3.75c0-1.15.22-2.25.63-3.26-.04.01-.08.01-.13.01H4c-.55%200-1-.45-1-1s.45-1%201-1h5c.38%200%20.72.22.88.54A8.827%208.827%200%200%201%2012.36%2010H4c-.55%200-1-.45-1-1s.45-1%201-1h9c.55%200%201%20.45%201%201%200%20.05%200%20.09-.01.13.93-.38%201.95-.6%203.01-.62V2.75C17%201.23%2015.77%200%2014.25%200zM8%206H4c-.55%200-1-.45-1-1s.45-1%201-1h4c.55%200%201%20.45%201%201s-.45%201-1%201z'%20fill='%235fcafa'%20opacity='1'%20data-original='%23000000'%3e%3c/path%3e%3cpath%20d='M17.25%2010.5c-3.722%200-6.75%203.028-6.75%206.75S13.528%2024%2017.25%2024%2024%2020.972%2024%2017.25s-3.028-6.75-6.75-6.75zM20%2018.25h-1.75V20a1%201%200%200%201-2%200v-1.75H14.5a1%201%200%200%201%200-2h1.75V14.5a1%201%200%200%201%202%200v1.75H20a1%201%200%200%201%200%202z'%20fill='%235fcafa'%20opacity='1'%20data-original='%23000000'%3e%3c/path%3e%3c/g%3e%3c/svg%3e",w=["#F5B849","#26BF94","#4A90E2","#9B59B6","#E74C3C"],N=[e.jsx("i",{className:"fa-solid fa-users"}),e.jsx("i",{className:"fa-solid fa-user-group"}),e.jsx("i",{className:"fa-solid fa-user-check"}),e.jsx("i",{className:"fa-solid fa-user-plus"}),e.jsx("i",{className:"fa-solid fa-user-tie"})];function T(){var b,j,v,_,f;const{t:s}=y(),{user:r}=B(o=>o.adminAuth),{homeStatistics:a,isLoading:c}=F();if(c)return e.jsx(H,{});const l=((b=a==null?void 0:a.subscriptions_revenue)==null?void 0:b.map(o=>o.total_subscriptions))||[],n=[{name:s("dashboard.revenue_12_months"),type:"line",data:a.subscriptions_revenue.map(o=>o.yearly_revenue)},{name:s("dashboard.revenue_6_months"),type:"line",data:a.subscriptions_revenue.map(o=>o.half_yearly_revenue)},{name:s("dashboard.assistant_requests"),type:"area",data:a.subscriptions_revenue.map(o=>o.total_subscriptions)}],i=a.subscriptions_revenue.map(o=>o.month),p={chart:{height:350,toolbar:{show:!0}},stroke:{width:[0,2,3],curve:"smooth",dashArray:[0,5,0]},fill:{type:["solid","solid","solid"],opacity:[.2,1,1]},markers:{size:0},colors:["#e2e8f0","#0ea5e9","#8b5cf6"],dataLabels:{enabled:!1},xaxis:{categories:i},legend:{position:"top",horizontalAlign:"left",markers:{radius:12}},tooltip:{shared:!0,intersect:!1}},m=[{name:s("dashboard.users"),data:a.users_growth.monthly_data.map(o=>o.user_count)}],C=a.users_growth.monthly_data.map(o=>o.month),z={chart:{type:"bar",height:350,toolbar:{show:!0}},plotOptions:{bar:{borderRadius:4,columnWidth:"10%",endingShape:"rounded"}},dataLabels:{enabled:!1},xaxis:{categories:C},colors:["#6366f1"],tooltip:{y:{formatter:o=>`${o} ${s("dashboard.users")}`}}},L=a.employees_counts.roles.map(o=>o==null?void 0:o.count),k={labels:[s("dashboard.executives"),s("dashboard.leaders"),s("dashboard.managers"),s("dashboard.supervisors"),s("dashboard.workers")],chart:{type:"donut"},colors:["#214b92","#8c137e","#007d7e","#f0ad4e","#adb5bd"],legend:{position:"bottom",fontSize:"14px"},dataLabels:{enabled:!0,position:"outside",style:{fontSize:"14px",fontWeight:"400",colors:["#fff"]}},plotOptions:{pie:{donut:{size:"80%",labels:{show:!0,name:{show:!0,fontSize:"16px",offsetY:-10},value:{show:!0,fontSize:"20px",fontWeight:600},total:{show:!0,label:s("dashboard.total"),fontSize:"16px",fontWeight:500,formatter:o=>o.globals.seriesTotals.reduce((t,q)=>t+q,0)}}}}},responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]};return e.jsxs("section",{className:"dashboard--home",children:[e.jsx("div",{className:"dashboard--home__header",children:e.jsxs("div",{className:"welcome",children:[e.jsxs("h3",{children:[r==null?void 0:r.first_name," ",s("dashboard.welcome_back")]}),e.jsx("p",{children:s("dashboard.welcome_message")})]})}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12 col-lg-6 col-xxl p-2",children:e.jsx(u,{icon:e.jsx("i",{className:"fa-solid fa-handshake"}),title:s("dashboard.assistant_requests"),value:(j=a==null?void 0:a.help_requests)==null?void 0:j.total_help_requests,percentage:(v=a==null?void 0:a.help_requests)==null?void 0:v.growth_percentage,timeframe:s("dashboard.this_month"),chartData:l,color:"#805AD5"})}),e.jsx("div",{className:"col-12 col-lg-6 col-xxl p-2",children:e.jsx(u,{icon:e.jsx("i",{className:"fa-solid fa-notebook"}),title:s("dashboard.help_offers"),value:(_=a==null?void 0:a.help_services)==null?void 0:_.total_help_services,percentage:(f=a==null?void 0:a.help_services)==null?void 0:f.growth_percentage,timeframe:s("dashboard.this_month"),chartData:l,color:"#23B7E5"})}),a==null?void 0:a.packages_counts.map((o,t)=>e.jsx("div",{className:"col-12 col-lg-6 col-xxl p-2",children:e.jsx(u,{icon:N[t%N.length],title:o.package,value:o.total_users,percentage:o.growth_percentage,timeframe:s("dashboard.this_month"),chartData:l,color:w[t%w.length]})},t)),e.jsx("div",{className:"col-12 p-2",children:e.jsx(h,{title:s("dashboard.urgent_actions"),children:e.jsxs("div",{className:"quick__actions--list",children:[e.jsxs(x,{to:"/dashboard/create-employee",className:"quick--action__button",children:[e.jsx("img",{src:G,alt:""}),e.jsx("span",{children:s("dashboard.create_employee")})]}),e.jsxs(x,{to:"/dashboard/list-management/working-groups",className:"quick--action__button",children:[e.jsx("img",{src:R,alt:""}),e.jsx("span",{children:s("dashboard.create_group")})]}),e.jsxs(x,{to:"/dashboard/list-management/fields-and-specializations",className:"quick--action__button",children:[e.jsx("img",{src:W,alt:""}),e.jsx("span",{children:s("dashboard.add_field")})]})]})})})]}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-12 col-xl-4 p-2",children:[e.jsx("div",{className:"col pb-2",children:e.jsx(E,{tasksData:a==null?void 0:a.tasks_counts})}),e.jsx("div",{className:"col pt-2",children:e.jsx(S,{series:L,options:k,title:s("dashboard.employees"),height:300})})]}),e.jsx("div",{className:"col-12 col-xl-8 p-2",children:e.jsx(V,{series:n,title:s("dashboard.revenue_analytics"),options:p,type:"line",height:550})})]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12 p-2",children:e.jsx(O,{series:m,options:z,title:s("dashboard.user_growth")})})})]})}export{T as default};
